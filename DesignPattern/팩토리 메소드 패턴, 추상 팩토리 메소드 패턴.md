# 팩토리 메소드 패턴, 추상 팩토리 메소드 패턴

- 참고 : https://victorydntmd.tistory.com/300

- 팩토리 메소드 패턴
  - 단일 메소드가 여러 종류의 객체를 생성
  - 조건에 따른 객체 생성을 팩토리 클래스로 위임하여 팩토리 클래스에서 객체를 생성
- 추상 팩토리 패턴
  - 객체별 한 종류의 객채를 생성하는데, 여러 객체를 생성해서 여러 종류의 객체를 생성하는 팩토리 효과를 나타냄
  - 서로 관련있는 객체들을 통째로 묶어서 팩토리 클래스로 만들고, 이들 팩토리를 조건에 따라 생성하도록 다시 팩토리를 만들어서 객체를 생성하는 패턴

## 팩토리 메소드 패턴

```java
//Keyboard 생성
public interface Keyboard {
}
public class LGKeyboard implements Keyboard {
    public LGKeyboard(){
        System.out.println("LG 키보드 생성");
    }
}
public class SamsungKeyboard implements Keyboard {
    public SamsungKeyboard(){
        System.out.println("Samsung 키보드 생성");
    }
}
public class KeyboardFactory {
    public Keyboard createKeyboard(String type){
        Keyboard keyboard = null;
        switch (type){
            case "LG":
                keyboard = new LGKeyboard();
                break;

            case "Samsung":
                keyboard = new SamsungKeyboard();
                break;
        }

        return keyboard;
    }
}
//마우스 생성
public interface Mouse {
}
public class LGMouse implements Mouse {
    public LGMouse(){
        System.out.println("LG 마우스 생성");
    }
}
public class SamsungMouse implements Mouse {
    public SamsungMouse(){
        System.out.println("Samsung 마우스 생성");
    }
}
public class MouseFactory {
    public Mouse createMouse(String type){
        Mouse mouse = null;
        switch (type){
            case "LG":
                mouse = new LGMouse();
                break;

            case "Samsung":
                mouse = new SamsungMouse();
                break;
        }

        return mouse;
    }
}

//컴퓨터 구현
public class ComputerFactory {
    public void createComputer(String type){
        KeyboardFactorzy keyboardFactory = new KeyboardFactory();
        MouseFactory mouseFactory = new MouseFactory();

        keyboardFactory.createKeyboard(type);
        mouseFactory.createMouse(type);
        System.out.println("--- " + type + " 컴퓨터 완성 ---");
    }
}
//클라이언트 요청(제조사)
public class Client {
    public static void main(String args[]){
        ComputerFactory computerFactory = new ComputerFactory();
        computerFactory.createComputer("LG");
    }
}
//만약 스피커, 본체 등 여러 주변기기들을 추가한다면??=> 각 팩토리 클래스 객체를 생성
//컴퓨터 생산시 모두 동일한 제조사로 맞춰야함 => 일일이 작업 필요 => 추상팩토리패턴
public class ComputerFactory {
    public void createComputer(String type){
        KeyboardFactory keyboardFactory = new KeyboardFactory();
        MouseFactory mouseFactory = new MouseFactory();
        BodyFactory bodyFactory = new BodyFactory();
        MonitorFactory monitorFactory = new MonitorFactory();
        SpeakerFactory speakerFactory = new SpeakerFactory();
        PrinterFactory printerFactory = new PrinterFactory();

        keyboardFactory.createKeyboard(type);
        mouseFactory.createMouse(type);
        bodyFactory.createBody(type);
        monitorFactory.createMonitor(type);
        speakerFactory.createSpeaker(type);
        printerFactory.createPrinter(type);
        System.out.println("--- " + type + " 컴퓨터 완성 ---");
    }
}
```

## 추상 팩토리 메소드 패턴

```java
//키보드, 마우스 클래스는 위와 동일
//컴퓨터 구현 - 제조사 부품 선택(이부분부터 팩토리메서드와 다름)
public interface ComputerFactory {
    public Keyboard createKeyboard();
    public Mouse createMouse();
}
public class SamsungComputerFactory implements ComputerFactory {
    public SamsungKeyboard createKeyboard() {
        return new SamsungKeyboard();
    }

    public SamsungMouse createMouse() {
        return new SamsungMouse();
    }
}
public class LGComputerFactory implements ComputerFactory {
    public LGKeyboard createKeyboard() {
        return new LGKeyboard();
    }

    public LGMouse createMouse() {
        return new LGMouse();
    }
}

//입력값에 따라 객체 생성의 분기. 어떤 제조사 컴퓨터 객체를 생성할지 결정 => 팩토리메서드와 차이 : 컴퓨터객체를 생성함
public class FactoryOfComputerFactory {
    public void createComputer(String type){
        ComputerFactory computerFactory= null;
        switch (type){
            case "LG":
                computerFactory = new LGComputerFactory();
                break;

            case "Samsung":
                computerFactory = new SamsungComputerFactory();
                break;
        }

        computerFactory.createKeyboard();
        computerFactory.createMouse();
    }
}
//클라이언트 정의
public class Client {
    public static void main(String args[]){
        FactoryOfComputerFactory factoryOfComputerFactory = new FactoryOfComputerFactory();
        factoryOfComputerFactory.createComputer("LG");
    }
}
```

