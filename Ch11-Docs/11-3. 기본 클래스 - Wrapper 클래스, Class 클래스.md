# 11-3. 기본 클래스 - Wrapper 클래스, Class 클래스

## 기본 자료형을 위한 클래스

- 기본 자료형을 객체형으로 사용해야 하는 경우 이용되는 클래스

  - ```java
    public  void setValue(Integer i) {...} //객체를 매개변수로 받는 경우
    public Integer returnValue() {...} //반환 값이 객체형인 경우
    ```

- 종류 (기본형 => Wrapper)

  - boolean => Boolean
  - byte => Byte
  - char => Character
  - short => Short
  - int => Integer
  - long => Long
  - float => Float
  - double => Double

## 오토박싱과 언박싱

- Integer와 int의 값을 더한다면 언박싱(Wrapper를 기본객체로 변경)하거나 오토박싱(기본객체를 Wrapper로 변경)
- 컴파일러가 java5 이후 자동으로 실행해 줍니다.

```java
Integer num1 = new Integer(100);
int num2 = 200;
int sum = num + num2; //언박싱 num.intValue()로 변환
Integer num3 = num2; //오토 박싱 Integer.valueOf(num2)로 변환
```

## Class 클래스

- 여러 클래스 중에 상호아에 따라 다른 클래스를 사용하거나 반환 받는 클래스가 어떤 자료형인지 모를 경우 사용

```java
String s = new String();
Class c = s.getClass();

Class c = String.Class;

Class c = Class.forName("java.lang.String");
```

```java
package Class;

public class ClassTest {
    public static void main(String[] args) throws ClassNotFoundException {
        Person person = new Person();
        
        //Object의 getClass() 사용하기
        Class pClass1 = person.getClass();
        System.out.println(pClass1.getName());

        //직접 class 파일 대입하기
        Class pClass2 = Person.class;
        System.out.println(pClass2.getName());
        
        
        //클래스 이름으로 가져오기. forName은 예외처리 필요
        Class pClass3 = Class.forName("Class.Person");
        System.out.println(pClass1.getName());
        
    }
}
```

## Class 클래스를 활용해 클래스 정보 알아보기

- 클래스의 자료형을 모르는 상태에서 Class 클래스를 활용해 정보를 찾을 수 있습니다.
  - 리플렉션(reflection) : 클래스의 자료형을 모르는 상태에서 Class 클래스를 활용하여 그 클래스의 정보를 가져오고, 이 정보를 활용하여 인스턴스를 생성하거나 메소드를 호출하는 방식
  - 실제로 우리가 다루는 경우는 많지 않습니다.

```java
package Class;

import java.lang.reflect.Constructor;
import java.lang.reflect.Field;
import java.lang.reflect.Method;

public class StringClassTest {

    public static void main(String[] args) throws ClassNotFoundException {
        Class strClass = Class.forName("java.lang.String");


        //모든 생성자 가져오기
        Constructor[] cons = strClass.getConstructors();
        for (Constructor c : cons) {
            System.out.println(c);
        }

        System.out.println();
        Field[] fields = strClass.getFields();
        for (Field f : fields) {
            System.out.println(f);
        }

        System.out.println();
        Method[] methods = strClass.getMethods();
        for (Method m : methods) {
            System.out.println(m);
        }
    }

}
```

## newInstance()를 사용해 클래스 생성하기

- Class 메소드 중 newInstance를 사용해 인스턴스 생성이 가능합니다.
- 예외 처리등 복잡하므로 이용하지 않습니다.

```java
package Class;

public class NewInstanceTest {
    public static void main(String[] args) throws ClassNotFoundException, IllegalAccessException, InstantiationException {
        Person person1 = new Person();
        System.out.println(person1);


        Class pClass = Class.forName("Class.Person");
        Person person2 = (Person) pClass.newInstance();
        System.out.println(person2);
    }

}

```

## Class.forName()을 사용해 동적로딩하기

- 프로그램 실행 이후 클래스의 로딩이 필요한 경우 클래스의 동적로딩 방식을 사용합니다.
  - 유의사항
    - forName("클래스이름")에서 클래스이름 문자열은 컴파일러가 잡을 수 없으므로 주의해야 합니다.

```java
Class pClass = new Class.forName("Class.Person");
```

