# 5-3. 객체지향과 클래스1 - 생성자(constructor), 참조자료형(reference type)

## 생성자(constructor)

- 생성자 : 클래스를 처음 만들 때 멤버 변수나 상수를 초기화
  - 생성자의 이름은 클래스의 이름과 같아야 함
  - 생성자는 리턴 값이 없음
  - 오버로딩이 가능함 => 여러 생성자를 매개변수에 따라 오버로딩함
- 생성자 수행 과정
  1. 연산자 new에 의해 heap메모리 영역에 클래스 인스턴스 생성
  2. 생성자 호출
  3. new연산자의 결과로, 생성된 인스턴스의 주소가 반환되어 참조변수에 저장

```java
//생성자 만들기
public class Person{
  String name;
  float height;
  float weight;
}

//생성자 테스트
public class PersonTest{
  public static void main(String[] args){
    //1.연산자 new에 의해 heap메모리 영역에 클래스 인스턴스 생성
    //3.new연산자의 결과로, 생성된 인스턴스의 주소가 반환되어 참조변수에 저장 
    Person person = new Person(); //생성자 
  }
}
```

### 생성자의 종류

- 디폴트 생성자 : 클래스를 생성할 때 클래스의 이름과 같고 반환 값이 없는 생성자
  - 자바 컴파일 시에 자동으로 생성됨
  - 매개 변수, 리턴 값, 구현 코드 모두 없는 생성자

```java
public class Person{
  String name;
  float height;
  float weight;
  
  public Person(){} //자바 컴파일러가 자동으로 제공하는 디폴트 생성자
}
```

- 커스텀 생성자 : 직접 생성자를 만들 수 있음
  - 주로 멤버 변수에 대한 값들을 매개변수로 받아서 멤버 변수를 초기화 하는 역할
  - 생성됨과 동시에 멤버변수의 값을 지정하기 위해 사용

```java
public class Person{
  String name;
  float height;
  float weight;
  
  public Person(){} //디폴트 생성자. 커스텀 생성자를 이용하면 디폴트 생성자를 직접 입력해줘야 함
  
  public Person(String pname){
    name = pname; //사람 이름을 매개변수로 입력받아서 Person클래스를 생성하는 생성자
  }
}
```

### 생성자 오버로드

- 두 개이상의 생성자가 존재하는 경우 매개변수에 따라 사용됨
- 디폴트 생성자를 직접 입력하지 않아도 되는 경우 => 필수적으로 필요한 멤버변수를 생성할 때 할당해야 할 경우

```java
public class Student{
  int studentID;
  
  public Student(int studentID){
    this.studentID = studentID; //학번을 매개변수로 입력받아 Student 클래스를 생성하는 생성자
  }
}
```

### 생성자를 이용한 인스턴스 복사

- 현재 사용하고 있는 인스턴스와 같은 상태의 인스턴스를 하나 더 만들고자 할 때 생성자 이용 가능

```java
package ContructorCopy;

/**
 * 자바의 정석
 * 생성자를 이용한 인스턴스 복사
 */

class Car{
    String color;
    String gearType; //변속기 종류 - auto(자동), manual(수동)
    int door; //문의 개수

    Car(){
        this("White", "auto", 4);
    }

    //인스턴스의 복사를 위한 생성자
    Car(Car c){
        color = c.color;
        gearType = c.gearType;
        door = c.door;
    }

    Car(String color, String gearType, int door){
        this.color = color;
        this.gearType = gearType;
        this.door = door;
    }
}

public class CarTest {
    public static void main(String[] args) {
        Car c1 = new Car();
        Car c2 = new Car(c1); //c1의 복사본 c2 생성
        System.out.println("c1의 color=" + c1.color + ", gearType=" + c1.gearType + ", door=" + c1.door);
        System.out.println("c2의 color=" + c2.color + ", gearType=" + c2.gearType + ", door=" + c2.door);

        c1.door=100; //c1의 인스턴스 변수 door의 값 변경
        System.out.println("c1.door=100; 수행후");
        System.out.println("c1의 color=" + c1.color + ", gearType=" + c1.gearType + ", door=" + c1.door);
        System.out.println("c2의 color=" + c2.color + ", gearType=" + c2.gearType + ", door=" + c2.door); //Call By Value로 인해 c2의 속성은 변하지 않음

    }
}

/*
결과
c1의 color=White, gearType=auto, door=4
c2의 color=White, gearType=auto, door=4
c1.door=100; 수행후
c1의 color=White, gearType=auto, door=100
c2의 color=White, gearType=auto, door=4
*/
```



### 나 혼자 코딩

```java
package SelfCoding;

/**
 * 나 혼자 코딩
 * 매개변수가 있는 생성자 추가하기
 * Person 클래스에 이미 추가된 생성자 외에 이름, 키, 몸무게를 매개변수로 받는 생성자 추가
 * 그리고 PersonTest.java 클래스에서 추가된 생성자를 사용하여 인스턴스 생성
 */

class ParameterPerson{
    String name;
    float height;
    float weight;

    public ParameterPerson(){} //디폴트 생성자. 커스텀 생성자를 이용하면 디폴트 생성자를 직접 입력해줘야 함

    public ParameterPerson(String pname){
        name = pname; //사람 이름을 매개변수로 입력받아서 Person클래스를 생성하는 생성자
    }

    public ParameterPerson(String pname, float pheight, float pweight) {
        name = name;
        height = pheight;
        weight = pweight;
    }


    public String toString(){
        return "name: " + name + " "
                + "height: " + height + " "
                + "weight: " + weight + " ";
    }

}

//PersonTest.java 대체
public class ParameterConstructor {
    public static void main(String[] args) {
        ParameterPerson parameterPerson1 = new ParameterPerson();
        System.out.println(parameterPerson1.toString());

        ParameterPerson parameterPerson2 = new ParameterPerson("walter");
        System.out.println(parameterPerson2.toString());

        ParameterPerson parameterPerson3 = new ParameterPerson("walter", 100.2f, 100.1f);
        System.out.println(parameterPerson3.toString());


    }
}

/*
결과
name: null height: 0.0 weight: 0.0 
name: walter height: 0.0 weight: 0.0 
name: null height: 100.2 weight: 100.1 
*/
```

## 참조 자료형(reference type)

- 참조 자료형 : 클래스 자료형으로 선언하는 자료형
  - 클래스를 선언하여 참조
- 장점 : Student 클래스에 과목 이름을 추가해야할 때 korean.subjectName, math.subjectName 등으로 편리하게 추가 가능

```java
package ReferenceType;

public class Student {
    int studentID;
    String studentName;
    
    //Subject를 이용하여 참조 자료형 선언
    Subject korean;
    Subject math;
}

package ReferenceType;

/**
 * 과목 클래스
 */
public class Subject {
    String subjectName;
    int scorePoint;
}

```

